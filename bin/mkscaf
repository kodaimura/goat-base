#!/bin/bash

SH_DIR=$(cd "$(dirname "$0")/../sh"; pwd)

echo "Choose a language to scaffold:"
echo "1. Go"
echo "2. Julia"
echo "3. PHP"
echo "4. Python"
echo "5. Racket"

read -p "Enter your choice (1-5): " lang

case $lang in
    1)
        echo "What type of project do you want to scaffold?"
        echo "1. Script"
        echo "2. Web Application (goat)"
        
        while true; do
            read -p "Enter your choice (1-2): " scaf
            case $scaf in
                1)
                    $SH_DIR/go-script.sh
                    break
                    ;;
                2)
                    $SH_DIR/go-web-goat.sh
                    break
                    ;;
                *)
                    echo "Invalid choice. Please choose a number between 1-2."
                    exit 1
                    ;;
            esac
        done
        ;;
    2)  
        echo "Julia: Not yet supported."
        exit 1
        ;;
    3)
        echo "What type of project do you want to scaffold?"
        echo "1. Web Application (laravel)"

        while true; do
            read -p "Enter your choice (1): " scaf
            case $scaf in
                1)
                    $SH_DIR/php-web-laravel.sh
                    break
                    ;;
                *)
                    echo "Invalid choice. Please choose a number between 1-1."
                    exit 1
                    ;;
            esac
        done
        ;;
    4)
        echo "What type of project do you want to scaffold?"
        echo "1. Script"

        while true; do
            read -p "Enter your choice (1): " scaf
            case $scaf in
                1)
                    $SH_DIR/python-script.sh
                    break
                    ;;
                *)
                    echo "Invalid choice. Please choose a number between 1-1."
                    exit 1
                    ;;
            esac
        done
        ;;
    5)
        echo "What type of project do you want to scaffold?"
        echo "1. Script"

        while true; do
            read -p "Enter your choice (1): " scaf
            case $scaf in
                1)
                    $SH_DIR/racket-script.sh
                    break
                    ;;
                *)
                    echo "Invalid choice. Please choose a number between 1-1."
                    exit 1
                    ;;
            esac
        done
        ;;
    *)
        echo "Invalid choice. Please run the script again and choose a number between 1-5."
        exit 1
    ;;
esac